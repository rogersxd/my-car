!function(t){var e={};function s(i){if(e[i])return e[i].exports;var h=e[i]={i:i,l:!1,exports:{}};return t[i].call(h.exports,h,h.exports,s),h.l=!0,h.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var h in t)s.d(i,h,function(e){return t[e]}.bind(null,h));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){(new(s(1))).init()},function(t,e,s){const i=s(2),h=s(3),a=s(4),n=s(5);t.exports=class{constructor(){this.speed=50,this.delta=1,this.score=0,this.canvas=document.getElementById("scene"),this.context=this.canvas.getContext("2d"),this.scene=new i,this.car=new h(this.canvas),this.policeCarLeft=new a(this.canvas,"police-car.png"),this.policeCarRight=new a(this.canvas,"police-car-right.png"),this.human=new n(this.canvas,"human.png"),this.policeCarLeft.y=-300,this.policeCarRight.y=-1200,this.human.y=-740,this.wastedMessage=document.getElementById("wasted")}init(){console.log("INIT GAME..."),this.update(),this.car.listener(),document.getElementById("btn-restart").addEventListener("click",()=>{console.log("RESTARTING..."),window.location.reload()},!1)}update(){this.policeCarLeft.y<this.car.y+100&&this.policeCarLeft.y>=this.car.y&&this.policeCarLeft.x+222>=this.car.x||this.policeCarRight.y<this.car.y+100&&this.policeCarRight.y>=this.car.y&&this.car.x>=this.policeCarRight.x-40||this.human.y<this.car.y+100&&this.human.y>=this.car.y&&this.car.x>=this.human.x-51?this.end():(this.scene.y=this.delta*this.speed%this.scene.background.width,this.context.save(),this.context.translate(0,this.scene.y),this.scene.draw(this.context),this.car.draw(this.context),this.policeCarLeft.y>this.canvas.height&&(this.policeCarLeft.y=-300),this.policeCarRight.y>this.canvas.height&&(this.policeCarRight.y=-1200),this.human.y>this.canvas.height&&(this.human.y=-1940),setTimeout(()=>{this.policeCarLeft.x=-100,this.policeCarLeft.draw(this.context,250)},10),setTimeout(()=>{this.policeCarRight.x=180,this.policeCarRight.draw(this.context,350)},1e4),setTimeout(()=>{this.human.x=170,this.human.draw(this.context,50)},15e3),this.policeCarLeft.y+=.001*this.score,this.policeCarRight.y+=.001*this.score,this.human.y+=.001*this.score,this.context.restore(),this.delta++,this.score=this.delta,document.getElementById("score").innerText=this.score,requestAnimationFrame(()=>this.update()))}end(){this.wastedMessage.classList.remove("hidden")}}},function(t,e){t.exports=class{constructor(){this.background=new Image,this.x=0,this.y=0}draw(t){this.background.src="../../assets/img/road.jpg",this.background.onload=()=>{t.drawImage(this.background,this.x,this.y)}}}},function(t,e){t.exports=class{constructor(t){this.car=new Image,this.speed=5,this.canvas=t,this.x=t.width/3.5,this.y=t.height/1.7}draw(t){this.car.src="../../assets/img/car.png",this.car.onload=()=>{t.drawImage(this.car,this.x,this.y,80,80*this.car.height/this.car.width)}}listener(){document.addEventListener("keydown",this.controls.bind(this),!1)}controls(t){switch(t.key){case"Left":case"ArrowLeft":if(this.x<=30)return;this.x-=this.speed;break;case"Right":case"ArrowRight":if(this.x>=this.canvas.width-110)return;this.x+=this.speed;break;default:return}t.preventDefault()}}},function(t,e){t.exports=class{constructor(t,e){this.car=new Image,this.speed=5,this.canvas=t,this.x=-1e3,this.y=-300,this.imageCar=e}draw(t,e){this.car.src="../../assets/img/"+this.imageCar,this.car.onload=()=>{t.drawImage(this.car,this.x,this.y,e,e*this.car.height/this.car.width)}}}},function(t,e){t.exports=class{constructor(t,e){this.human=new Image,this.speed=5,this.canvas=t,this.x=-1e3,this.y=-300,this.imageHuman=e}draw(t,e){this.human.src="../../assets/img/"+this.imageHuman,this.human.onload=()=>{t.drawImage(this.human,this.x,this.y,e,e*this.human.height/this.human.width)}}}}]);