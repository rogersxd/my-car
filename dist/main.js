!function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){(new(i(1))).init()},function(t,e,i){const s=i(2),r=i(3),a=i(4);t.exports=class{constructor(){this.speed=50,this.delta=1,this.score=0,this.canvas=document.getElementById("scene"),this.context=this.canvas.getContext("2d"),this.car=new r(this.canvas),this.policeCarLeft=new a(this.canvas,"police-car.png"),this.policeCarRight=new a(this.canvas,"police-car-right.png"),this.policeCarLeft.y=-300,this.policeCarRight.y=-1200,this.scene=new s}init(){console.log("INIT GAME..."),this.update(),this.car.listener()}update(){this.policeCarLeft.y<this.car.y+100&&this.policeCarLeft.y>=this.car.y&&this.policeCarLeft.x+222>=this.car.x||this.policeCarRight.y<this.car.y+100&&this.policeCarRight.y>=this.car.y&&this.car.x>=this.policeCarRight.x-51||(this.scene.y=this.delta*this.speed%this.scene.background.width,this.context.save(),this.context.translate(0,this.scene.y),this.scene.draw(this.context),this.car.draw(this.context),this.policeCarLeft.y>this.canvas.height&&(this.policeCarLeft.y=-300),this.policeCarRight.y>this.canvas.height&&(this.policeCarRight.y=-1200),setTimeout(()=>{this.policeCarLeft.x=-100,this.policeCarLeft.draw(this.context,250),this.policeCarRight.x=180,this.policeCarRight.draw(this.context,350)},5e3),this.policeCarLeft.y+=.001*this.score,this.policeCarRight.y+=.001*this.score,this.context.restore(),this.delta++,this.score=this.delta,document.getElementById("score").innerText=this.score,requestAnimationFrame(()=>this.update()))}}},function(t,e){t.exports=class{constructor(){this.background=new Image,this.x=0,this.y=0}draw(t){this.background.src="../../assets/img/road.jpg",this.background.onload=()=>{t.drawImage(this.background,this.x,this.y)}}}},function(t,e){t.exports=class{constructor(t){this.car=new Image,this.speed=5,this.canvas=t,this.x=t.width/3.5,this.y=t.height/1.7}draw(t){this.car.src="../../assets/img/car.png",this.car.onload=()=>{t.drawImage(this.car,this.x,this.y,100,100*this.car.height/this.car.width)}}listener(){document.addEventListener("keydown",this.controls.bind(this),!1)}controls(t){switch(t.key){case"Left":case"ArrowLeft":if(this.x<=30)return;this.x-=this.speed;break;case"Right":case"ArrowRight":if(this.x>=this.canvas.width-130)return;this.x+=this.speed;break;default:return}t.preventDefault()}}},function(t,e){t.exports=class{constructor(t,e){this.car=new Image,this.speed=5,this.canvas=t,this.x=-1e3,this.y=-300,this.imageCar=e}draw(t,e){this.car.src="../../assets/img/"+this.imageCar,this.car.onload=()=>{t.drawImage(this.car,this.x,this.y,e,e*this.car.height/this.car.width)}}}}]);